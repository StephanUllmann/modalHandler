"use strict";var _ModalHandler_triggerModalMap,_ModalHandler_openModals,__classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,a,t,l,d){if("m"===l)throw new TypeError("Private method is not writable");if("a"===l&&!d)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof a?e!==a||!d:!a.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===l?d.call(e,t):d?d.value=t:a.set(e,t),t},__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,a,t,l){if("a"===t&&!l)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof a?e!==a||!l:!a.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?l:"a"===t?l.call(e):l?l.value:a.get(e)};class ModalHandler{constructor(){_ModalHandler_triggerModalMap.set(this,void 0),_ModalHandler_openModals.set(this,void 0),__classPrivateFieldSet(this,_ModalHandler_triggerModalMap,new Map,"f"),__classPrivateFieldSet(this,_ModalHandler_openModals,new Set,"f");document.querySelectorAll("[data-modaltarget]").forEach((e=>{const a=document.querySelector("#"+CSS.escape(e.dataset.modaltarget));a&&(__classPrivateFieldGet(this,_ModalHandler_triggerModalMap,"f").set(e,a),e.addEventListener("click",this.openModal.bind(this)))})),this.handleClick=this.handleClick.bind(this)}openModal(e){const a=e.target.closest("[data-modaltarget]"),t=__classPrivateFieldGet(this,_ModalHandler_triggerModalMap,"f").get(a);t&&(e.stopPropagation(),t.showModal(),__classPrivateFieldGet(this,_ModalHandler_openModals,"f").add(t),document.addEventListener("click",this.handleClick))}handleClick(e){for(let a of __classPrivateFieldGet(this,_ModalHandler_triggerModalMap,"f").values())a.open&&!a.contains(e.target)&&(a.close(),__classPrivateFieldGet(this,_ModalHandler_openModals,"f").delete(a),0===__classPrivateFieldGet(this,_ModalHandler_openModals,"f").size&&document.removeEventListener("click",this.handleClick))}}_ModalHandler_triggerModalMap=new WeakMap,_ModalHandler_openModals=new WeakMap,document.addEventListener("DOMContentLoaded",(()=>{new ModalHandler}));